<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- åŸºç¡€è®¾ç½® -->
    <title>æ•…éšœç‰©æ–™æŸ¥è¯¢å·¥å…·</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no, email=no, address=no">
    
    <!-- å¾®ä¿¡åˆ†äº«ä¼˜åŒ– - Open Graph åè®® -->
    <meta property="og:title" content="æ•…éšœç‰©æ–™æŸ¥è¯¢å·¥å…· - å¿«é€ŸæŸ¥è¯¢ç»´ä¿®é…ä»¶">
    <meta property="og:description" content="è¾“å…¥æ•…éšœæè¿°ï¼Œå¿«é€ŸæŸ¥è¯¢å¯¹åº”çš„ç»´ä¿®ç‰©æ–™å’Œé…ä»¶ç¼–ç ï¼Œæ”¯æŒåŸºç«™ä¸é€šç”µã€å±å¹•æ˜¾ç¤ºå¼‚å¸¸ã€æ¸…æ°´ç®±å¼‚å¸¸ç­‰æ•…éšœæŸ¥è¯¢">
    <meta property="og:image" content="https://jt202601.github.io/narwal/share-image.jpg">
    <meta property="og:url" content="https://jt202601.github.io/narwal/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="æ•…éšœç‰©æ–™æŸ¥è¯¢å·¥å…·">
    
    <!-- å¾®ä¿¡ç‰¹å®šæ ‡ç­¾ -->
    <meta name="wechat:disable" content="1">
    <meta name="referrer" content="never">
    
    <!-- iOS Safari ä¼˜åŒ– -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="æ•…éšœæŸ¥è¯¢">
    
    <!-- ç¦æ­¢å¾®ä¿¡ç¼“å­˜ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- æè¿°å’Œå…³é”®è¯ -->
    <meta name="description" content="ä¸“ä¸šçš„æ•…éšœç‰©æ–™æŸ¥è¯¢å·¥å…·ï¼Œå¿«é€Ÿå®šä½ç»´ä¿®é…ä»¶ï¼Œæå‡ç»´ä¿®æ•ˆç‡">
    <meta name="keywords" content="æ•…éšœæŸ¥è¯¢,ç‰©æ–™æŸ¥è¯¢,ç»´ä¿®å·¥å…·,é…ä»¶ç¼–ç ,åŸºç«™ç»´ä¿®">
    
    <!-- æ ·å¼ -->
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', 'Helvetica Neue', Arial, sans-serif;
            padding: 15px;
            background-color: #f5f7fa;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            -webkit-overflow-scrolling: touch;
        }
        h1 {
            color: #2c5282;
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 20px;
            font-weight: 600;
        }
        #searchBox {
            width: 100%;
            padding: 16px 20px;
            font-size: 18px;
            border: 2px solid #cbd5e0;
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.3s;
            outline: none;
            -webkit-appearance: none;
            -webkit-tap-highlight-color: transparent;
        }
        #searchBox:focus {
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
        }
        #result {
            margin-top: 25px;
            min-height: 60px;
        }
        .fault-item {
            background: white;
            border-radius: 10px;
            padding: 0;
            margin-bottom: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }
        .fault-title {
            background: linear-gradient(135deg, #4299e1, #3182ce);
            color: white;
            padding: 15px 20px;
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }
        .material-list {
            padding: 15px;
        }
        .material-item {
            padding: 12px 15px;
            border-bottom: 1px dashed #e2e8f0;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
        }
        .material-item:last-child { border-bottom: none; }
        .seq {
            background-color: #edf2f7;
            color: #4a5568;
            font-weight: bold;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
        }
        .material-name {
            font-weight: 500;
            flex-grow: 1;
            margin-right: 10px;
            word-break: break-word;
        }
        .material-code {
            background-color: #fffacd;
            color: #744210;
            padding: 4px 10px;
            border-radius: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin-top: 5px;
            width: 100%;
            border: 1px solid #f6e05e;
            word-break: break-all;
        }
        .material-location {
            background-color: #e6f7ff;
            color: #006d75;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 13px;
            margin-top: 5px;
            width: 100%;
            border: 1px solid #87e8de;
        }
        .no-result, .hint {
            text-align: center;
            padding: 30px;
            color: #718096;
            font-size: 16px;
            line-height: 1.5;
        }
        .hint { font-size: 14px; color: #a0aec0; }
        .highlight { background-color: #ffeb3b; padding: 0 2px; }
        
        /* å¾®ä¿¡å…¼å®¹æ€§ä¼˜åŒ– */
        .wechat-tip {
            display: none;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #856404;
            font-size: 14px;
            text-align: center;
        }
        
        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 480px) {
            body { padding: 10px; }
            #searchBox { font-size: 16px; padding: 14px; }
            .fault-title { padding: 12px 15px; font-size: 16px; }
            .material-item { padding: 10px; }
        }
    </style>
    
    <!-- å¾®ä¿¡åˆ†äº«JSï¼ˆå¯é€‰ï¼‰ -->
    <script>
        // æ£€æµ‹æ˜¯å¦ä¸ºå¾®ä¿¡æµè§ˆå™¨
        function isWeChatBrowser() {
            return /MicroMessenger/i.test(navigator.userAgent);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.addEventListener('load', function() {
            if (isWeChatBrowser()) {
                // å¦‚æœæ˜¯å¾®ä¿¡æµè§ˆå™¨ï¼Œæ˜¾ç¤ºæç¤º
                const tipElement = document.createElement('div');
                tipElement.className = 'wechat-tip';
                tipElement.innerHTML = 'âœ… å¾®ä¿¡å†…è®¿é—®æ­£å¸¸ï¼å¦‚éœ€åˆ†äº«ç»™åŒäº‹ï¼Œè¯·ç‚¹å‡»å³ä¸Šè§’Â·Â·Â·é€‰æ‹©"å‘é€ç»™æœ‹å‹"';
                document.body.insertBefore(tipElement, document.querySelector('h1').nextSibling);
                tipElement.style.display = 'block';
            }
        });
    </script>
</head>
<body>
    <h1>ğŸ”§ æ•…éšœä¸ç‰©æ–™æŸ¥è¯¢</h1>
    <input type="text" 
           id="searchBox" 
           placeholder="è¯·è¾“å…¥æ•…éšœæè¿°ï¼Œå¦‚ï¼šåŸºç«™ä¸é€šç”µã€å±å¹•æ˜¾ç¤ºå¼‚å¸¸ã€5019..." 
           autocomplete="off">
    
    <div id="result">
        <div class="hint">
            è¾“å…¥æ•…éšœæè¿°æˆ–ä»£ç ï¼Œç³»ç»Ÿå°†è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ã€‚<br>
            ä¾‹å¦‚è¾“å…¥"åŸºç«™"æˆ–"æ¸…æ°´ç®±"å³å¯æœç´¢ç›¸å…³æ•…éšœã€‚
        </div>
    </div>

    <!-- æ•…éšœæ•°æ®ï¼ˆä¿æŒä¸å˜ï¼‰ -->
    <script>
    const faultCodeData = [
        // ...ï¼ˆæ‚¨çš„åŸå§‹æ•…éšœæ•°æ®ä¿æŒä¸å˜ï¼Œè¿™é‡Œä¸ºäº†èŠ‚çœç©ºé—´ä¸é‡å¤ï¼‰
        // è¯·å°†æ‚¨åŸæœ‰çš„ faultCodeData æ•°ç»„å†…å®¹ç²˜è´´åˆ°è¿™é‡Œ
        { code: 'åŸºç«™ä¸é€šç”µ',
          materials: [
            { seq: '1', name: 'ç”µæºçº¿-/', code: 'YC-DZ-W00124-00-00', location: 'åŸºç«™'},
            // ... å…¶ä»–ç‰©æ–™æ•°æ®
          ]
        },
        // ... å…¶ä»–æ•…éšœæ•°æ®
    ];
    </script>

    <!-- æœç´¢é€»è¾‘ï¼ˆä¿æŒä¸å˜ï¼‰ -->
    <script>
        // è·å–é¡µé¢å…ƒç´ 
        const searchBox = document.getElementById('searchBox');
        const resultDiv = document.getElementById('result');
        
        // æ ¸å¿ƒï¼šæ¨¡ç³Šæœç´¢å‡½æ•°
        function performSearch(searchTerm) {
            // æ¸…ç©ºä¹‹å‰çš„ç»“æœ
            resultDiv.innerHTML = '';
            
            // å¦‚æœæœç´¢è¯ä¸ºç©ºï¼Œæ˜¾ç¤ºæç¤º
            if (!searchTerm.trim()) {
                resultDiv.innerHTML = '<div class="hint">è¾“å…¥æ•…éšœæè¿°æˆ–ä»£ç ï¼Œç³»ç»Ÿå°†è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ã€‚<br>ä¾‹å¦‚è¾“å…¥"åŸºç«™"æˆ–"æ¸…æ°´ç®±"å³å¯æœç´¢ç›¸å…³æ•…éšœã€‚</div>';
                return;
            }
            
            // å°†æœç´¢è¯è½¬ä¸ºå¤§å†™ï¼Œå®ç°ä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é…
            const upperSearchTerm = searchTerm.toUpperCase();
            let hasResult = false;
            
            // éå†æ•°æ®ä¸­çš„æ‰€æœ‰æ•…éšœ
            faultCodeData.forEach(fault => {
                // å…³é”®æ¨¡ç³ŠåŒ¹é…é€»è¾‘ï¼šæ£€æŸ¥æ•…éšœæè¿°æ˜¯å¦åŒ…å«æœç´¢è¯
                // ä½¿ç”¨ toUpperCase() ä½¿åŒ¹é…ä¸åŒºåˆ†å¤§å°å†™
                if (fault.code.toUpperCase().includes(upperSearchTerm)) {
                    hasResult = true;
                    // åˆ›å»ºæ•…éšœé¡¹HTML
                    const faultElement = document.createElement('div');
                    faultElement.className = 'fault-item';
                    
                    // åˆ›å»ºæ•…éšœæ ‡é¢˜ï¼Œå¹¶é«˜äº®åŒ¹é…éƒ¨åˆ†
                    const highlightedTitle = highlightMatch(fault.code, searchTerm);
                    faultElement.innerHTML = `
                        <div class="fault-title">${highlightedTitle}</div>
                        <div class="material-list"></div>
                    `;
                    
                    const materialList = faultElement.querySelector('.material-list');
                    
                    // éå†æ­¤æ•…éšœçš„æ‰€æœ‰ç‰©æ–™å¹¶æ·»åŠ 
                    fault.materials.forEach(material => {
                        const materialItem = document.createElement('div');
                        materialItem.className = 'material-item';
                        materialItem.innerHTML = `
                            <div class="seq">${material.seq}</div>
                            <div class="material-name">${material.name}</div>
                            <div class="material-code">${material.code}</div>
                            <div class="material-location">${material.location}</div>
                        `;
                        materialList.appendChild(materialItem);
                    });
                    
                    // å°†æ•´ä¸ªæ•…éšœé¡¹æ·»åŠ åˆ°ç»“æœåŒºåŸŸ
                    resultDiv.appendChild(faultElement);
                }
            });
            
            // å¦‚æœæ²¡æœ‰åŒ¹é…ç»“æœ
            if (!hasResult) {
                resultDiv.innerHTML = `<div class="no-result">æœªæ‰¾åˆ°åŒ…å« "<strong>${searchTerm}</strong>" çš„æ•…éšœä¿¡æ¯ï¼Œè¯·æ£€æŸ¥è¾“å…¥æˆ–å°è¯•å…¶ä»–å…³é”®è¯ã€‚</div>`;
            }
        }
        
        // é«˜äº®åŒ¹é…æ–‡æœ¬çš„å‡½æ•°
        function highlightMatch(text, searchTerm) {
            if (!searchTerm.trim()) return text;
            const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }
        
        // ç›‘å¬è¾“å…¥äº‹ä»¶ï¼šç”¨æˆ·è¾“å…¥æ—¶å®æ—¶æœç´¢
        searchBox.addEventListener('input', function(e) {
            performSearch(e.target.value);
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºæç¤º
        window.addEventListener('load', function() {
            resultDiv.innerHTML = '<div class="hint">è¾“å…¥æ•…éšœæè¿°æˆ–ä»£ç ï¼Œç³»ç»Ÿå°†è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ã€‚<br>ä¾‹å¦‚è¾“å…¥"åŸºç«™"æˆ–"æ¸…æ°´ç®±"å³å¯æœç´¢ç›¸å…³æ•…éšœã€‚</div>';
        });
    </script>
    
    <!-- å›¾ç‰‡å ä½è„šæœ¬ï¼ˆç”Ÿæˆåˆ†äº«å›¾ç‰‡ï¼‰ -->
    <script>
        // å¦‚æœéœ€è¦ï¼Œå¯ä»¥åŠ¨æ€ç”Ÿæˆåˆ†äº«å›¾ç‰‡
        // è¿™é‡Œåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå®é™…ä½¿ç”¨æ—¶å¯ä»¥æ›¿æ¢ä¸ºçœŸå®çš„å›¾ç‰‡URL
        const shareImageUrl = 'https://jt202601.github.io/narwal/share-image.jpg';
        
        // å¦‚æœå›¾ç‰‡ä¸å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨Canvasç”Ÿæˆä¸€ä¸ªç®€å•çš„åˆ†äº«å›¾ç‰‡
        function generateShareImage() {
            // è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå®é™…ä½¿ç”¨æ—¶å¯èƒ½éœ€è¦æ›´å¤æ‚çš„å›¾ç‰‡ç”Ÿæˆé€»è¾‘
            const canvas = document.createElement('canvas');
            canvas.width = 300;
            canvas.height = 300;
            const ctx = canvas.getContext('2d');
            
            // ç»˜åˆ¶èƒŒæ™¯
            ctx.fillStyle = '#4299e1';
            ctx.fillRect(0, 0, 300, 300);
            
            // ç»˜åˆ¶æ–‡å­—
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 24px "Microsoft YaHei"';
            ctx.textAlign = 'center';
            ctx.fillText('æ•…éšœç‰©æ–™æŸ¥è¯¢', 150, 120);
            ctx.font = '18px "Microsoft YaHei"';
            ctx.fillText('å¿«é€ŸæŸ¥è¯¢ç»´ä¿®é…ä»¶', 150, 160);
            ctx.fillText('ğŸ”§ ä¸“ä¸šå·¥å…·', 150, 200);
            
            // å¦‚æœéœ€è¦å¯ä»¥ä¿å­˜å›¾ç‰‡ï¼Œè¿™é‡Œåªæ˜¯ç¤ºä¾‹
            return canvas.toDataURL('image/jpeg');
        }
        
        // æ£€æŸ¥åˆ†äº«å›¾ç‰‡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ç”Ÿæˆ
        window.addEventListener('load', function() {
            const img = new Image();
            img.onerror = function() {
                // å¦‚æœå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œå¯ä»¥åœ¨è¿™é‡Œå¤„ç†
                console.log('åˆ†äº«å›¾ç‰‡ä¸å­˜åœ¨ï¼Œå¦‚éœ€å¯ä»¥åŠ¨æ€ç”Ÿæˆ');
            };
            img.src = shareImageUrl;
        });
    </script>
</body>
</html>
